# Redis
Redis는 Remote Dictionary Server의 약자로, 데이터베이스, 캐시, 스트리밍 엔진, 메시지 브로커로 사용하는 Key-Value 기반, 싱글쓰레드로 동작하는 오픈 소스 인메모리 데이터 저장소이다. Redis는 다양항 데이터 구조를 지원한다.

Redis는 인메모리 데이터 세트와 함께 작동하지만, 필요에 따라 주기적으로 데이터 집합을 디스크에 덤프하거나 각 명령을 디스크 기반 로그에 추가하여 데이터를 보존할 수 있다.

## 왜 사용할까?
메모리 기반의 데이터 저장소이기 때문에, DB에서 조회하는 것보다 성능의 좋다. 하지만 메모리 기반이므로 데이터가 휘발될수 있다.
메모리 기반으로 사용할거면 시스템에서 메모리에 Map을 선언하고 사용해도 되지만, 분산환경에서 Redis를 사용한다면 여러 측면에서 좋은 선택이 될 수 있다.

## 자료구조
Redis는 다른 메모리 기반의 데이터 저장소와 다르게 많은 데이터 타입을 지원한다. (https://redis.io/docs/data-types/)

## 영속성
Redis는 메모리 기반이지만 지속성을 보장하기 위해 디스크에 데이터를 저장할 수 있다. Redis가 죽어도 디스크에 쓰여진 데이터를 불러와서 사용할 수 있다.
데이터를 저장하는 방식에는 두가지가 있다.

### Snapshot
Redis는 주기적으로 혹은 특정 이벤트가 발생할 때 데이터의 스냅샷을 디스크에 저장 할 수 있다. Snapshot 방식으로 저장을 할 때도 SAVE, BGSAVE가 있는데 SAVE는 저장 시 block을 하고, BGSAVE는 비동기로 처리한다.

스냅샷은 RDB(Redis DataBase) 형식으로 저장되며, Redis 서버가 재시작될 때 이 스냅샷을 사용하여 데이터를 로드한다.

### AOF
AOF (Append-Only File) 방식은 명령어를 순차적으로 로그 파일에 추가(append)하여 데이터를 저장한다.
이 방식을 사용하면 Redis 서버가 종료된 경우에도 로그 파일을 사용하여 데이터를 복원할 수 있다.

AOF 방식은 스냅샷 방식보다 더 많은 디스크 I/O 작업이 발생할 수 있으나, 보다 안정적이고 지속적인 데이터의 기록을 할 수 있다.

## Pub/Sub
Redis는 Pub/Sub(발행/구독)은 메시지 브로커 패턴을 따르는 기능으로, 하나의 Redis 서버에서 발행자(Publisher)가 메시지를 발행하고, 여러 구독자(Subscriber)가 이 메시지를 수신하는 기능을 제공한다.

# 정리
- Redis는 인 메모레 데이터 저장소이다.
- 메모리를 사용하기 때문에 성능이 빠르다.
- 싱글쓰레드로 동작하기 때문에 연산이 오래 걸릴다면 성능에 이슈가 생길 수 있다.
- 메모리 기반의 데이터는 데이터가 휘발될 수 있지만, Redis는 데이터를 디스크에 저장할 수 있다.
- Pub/Sub을 지원한다.
